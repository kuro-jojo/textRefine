<div class="flex flex-col bg-white rounded-xl shadow-lg py-7 px-6 mb-2">
    <div
        class="flex flex-col md:flex-row items-start md:items-center justify-between mb-4"
    >
        <h2 class="text-lg font-semibold text-gray-800 mb-2 md:mb-0">
            Overall Performance
        </h2>
        <div
            class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium"
        >
            {{ score ? getScoreText(score) : "N/A" }}
        </div>
    </div>
    <div class="flex flex-col md:flex-row items-center">
        <div
            class="flex items-center justify-center w-32 h-32 relative mb-4 md:mb-0 md:mr-6"
        >
            <div class="relative">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-20 h-20">
                    <circle
                        cx="40"
                        cy="40"
                        r="32"
                        stroke="#E5E7EB"
                        stroke-width="8"
                        fill="none"
                    ></circle>
                    <circle
                        cx="40"
                        cy="40"
                        r="32"
                        stroke="#6366F1"
                        stroke-width="8"
                        fill="none"
                        [attr.stroke-dasharray]="
                            getOverallScoreSvgPercentage(32)[0]
                        "
                        [attr.stroke-dashoffset]="
                            getOverallScoreSvgPercentage(32)[1]
                        "
                        stroke-linecap="round"
                        transform="rotate(-90 40 40)"
                    ></circle>
                </svg>

                <span
                    class="absolute inset-0 flex items-center justify-center text-3xl font-bold text-indigo-600"
                >
                    {{ getScoreInPercentage(score) }}
                </span>
            </div>
        </div>
        <div class="flex-grow">
            <p class="text-gray-600 mb-4">
                {{
                    feedback ||
                    `Your text demonstrates ${score ? getScoreText(score).toLowerCase() : "N/A"} grammar and vocabulary with good readability. Consider the suggestions below to further refine your writing.`
                }}
            </p>
            <div class="flex flex-wrap gap-2">
                <span
                    class="{{ sophisticationColor }} px-3 py-1 rounded-full text-sm"
                >
                    {{ sophisticationLevel || "N/A" }}
                </span>
                <span
                    class="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm"
                >
                    {{ wordCount }} words
                </span>
                <span
                    class="bg-teal-400 text-white px-3 py-1 rounded-full text-sm"
                >
                    {{ rareWordCount }} rare words
                </span>
            </div>
        </div>
    </div>
</div>
